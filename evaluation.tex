\chapter{Evaluation}
\label{ch:Evaluation}

We hypothesized identifying important commits automatically and providing integrated access between commit and issue information could help a developer more effectively access the rationale for code.
To evaluate our hypothesis, we conducted a user study in the form of a semi-structured interview and devised the following research questions:

\begin{itemize}[leftmargin=*]
    \item[] \label{itm:RQ1} \textbf{Research Question 1 (\entity{RQ1}):} \textit{Does highlighting important commits help software developers explore a file’s revision history more efficiently?}
    \item[] \label{itm:RQ2} \textbf{Research Question 2 (\entity{RQ2}):} \textit{Does highlighting important commits cause software developers to be more efficient at exploring a file’s revision history than a conventional linear, temporal, flat view of revision history?}
    \item[] \label{itm:RQ3} \textbf{Research Question 3 (\entity{RQ3}):} \textit{How useful is direct integration of issue information in the IDE for helping a developer search for code rationale information?}
  \end{itemize}

We describe our methodology designed to address these research questions in \autoref{sec:Methodology} and answer the research questions using the results of the evaluation in \autoref{sec:Results}.
We discuss the threats to validity of our evaluation in \autoref{sec:Threads-to-Validity}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Method}
\label{sec:Methodology}

We designed the user study as an explorative, semi-structured interview composed of two parts with an estimated duration of 1 to 1.5 hours.
A semi-structured interview format allows us to maintain a focused discussion while also eliciting interesting responses and reasoning from participants \cite{shull_guide_2007}.
The semi-structured interview format is also appropriate as we seek to understand how participants interact with the commit history for a file and the Intelligent History plugin.
The study involved having participants explore the commit history of two Java classes from the Apache Kafka project to find answers to questions related to motivation and rationale behind changes in the classes.
The briefing for the study and the setup instructions can be found in Appendix \ref{sec:Briefing-and-Setup}.
We expected the participants to interact with commit and issue information found in the commit history in order to be able to answer these questions.

The first part of the user study session consisted of asking questions from two sets of open-ended, task-oriented questions, which are presented in \autoref{tab:Question-Sets}.
We prepared two sets of questions, each pertaining to a different Java class from the Apache Kafka project.
This would facilitate an experience where the participant would complete an initial set of questions without being allowed to use the features of Intelligent History plugin.
After completing the initial set of questions, the participant would be introduced to the features of the Intelligent History plugin and permitted to use them to help them answer the second set of questions.
As shown in \autoref{tab:Question-Sets}, set A asks questions regarding the motivation behind particular changes in \class{Toplogy}, while set B asks the participant to identify potentially important or meaningful commits from the history and about motivation behind a specific method in \class{StreamsBuilder}.
The \class{Topology} class contains 22 commits and the \class{StreamsBuilder} class contains 45 commits respectively.
We limited the number of questions per class based on the number of commits in each class' commit history and to accomodate participants' varying preferences for and familiarity with exploring commit history in general.

\FIXME{Describe that we came up with sample answers used to gauge ``correctness'' or completion for each question? Should this be included in the appendix?}

We shuffle the set of questions such that half the participants received and completed set A first \emph{without} awareness of the plugin, and set B afterwards \emph{with} introduction to the plugin.
The remaining half of the participants received set B first \emph{without} the plugin, and set A \emph{with} the plugin.
We perform this shuffling of question sets to avoid having the features of Intelligent History be more favourable for one set of questions to another.
There is some overlap between the sets, particularly with questions A(b) and B(b) from \autoref{tab:Question-Sets}.
However, we anticipate the features of Intelligent History to be most useful for participants that receive set B as the question set they will be allowed to use the Intelligent History plugin to aid their search for answering.
In particular, question B(a) from \autoref{tab:Question-Sets} expects the participant to examine the diffs, messages, and Jira issue for each commit in order to identify two changes that they can justify have a certain intent, which is to improve some functionality in \class{StreamsBuilder}. 
Other questions such as 
This will allow us to further understand how Intelligent History performs for different tasks and how Intelligent History fits to the participants' individual approaches to realistic tasks.

\begin{table}[]
  \centering
  \begin{tabular}{@{}ccl@{}}
  \toprule
  Set                                      & Class Name                                                   & \multicolumn{1}{c}{Question}                                                                                                                                                                                                                                                                                                                                            \\ \midrule
  \multicolumn{1}{|c|}{\multirow{3}{*}{A}} & \multicolumn{1}{c|}{\multirow{3}{*}{\class{Topology}}}       & \multicolumn{1}{p{8cm}|}{\begin{tabular}[c]{@{}p{8cm}}\small (a) Can you describe the motivation behind why the code segment on lines 717 to 722 was introduced and the benefit to the user of the Kafka \entity{API}?\end{tabular}}                                                                                                                                                             \\ \cmidrule(l){3-3} 
  \multicolumn{1}{|c|}{}                   & \multicolumn{1}{c|}{}                                        & \multicolumn{1}{p{8cm}|}{\begin{tabular}[c]{@{}p{8cm}}\small (b) There are several overloaded methods called \code{addSink} in this class. Can you describe in what context were these overloaded methods introduced to this class?\end{tabular}}                                                                                                                                             \\ \cmidrule(l){3-3} 
  \multicolumn{1}{|c|}{}                   & \multicolumn{1}{c|}{}                                        & \multicolumn{1}{p{8cm}|}{\small (c) What was the motivation behind the most recent commit (\commit{fbe7fb94}) made to this class?}                                                                                                                                                                                                                                                               \\ \midrule
  \multicolumn{1}{|c|}{\multirow{2}{*}{B}} & \multicolumn{1}{c|}{\multirow{2}{*}{\class{StreamsBuilder}}} & \multicolumn{1}{p{8cm}|}{\begin{tabular}[c]{@{}p{8cm}}\small (a) Can you find two commits that represent changes that were introduced to improve some functionality in this class and justify why you chose them? The changes can not be cosmetic such as removing repeated words, removing deprecated code, or adding/modifying/removing documentation and comments.\end{tabular}} \\ \cmidrule(l){3-3} 
  \multicolumn{1}{|c|}{}                   & \multicolumn{1}{c|}{}                                        & \multicolumn{1}{p{8cm}|}{\small (b) Why is the \code{build} method in this class overloaded? Specifically, why was the overloaded build method in lines 623 to 630 introduced?}                                                                                                                                                                                                                \\ \bottomrule
  \end{tabular}
  \caption{
    The question sets used in the user study. 
    Set A pertains to the \class{Topology} class and set B relates to the \class{StreamsBuilder} class.
    }
  \label{tab:Question-Sets}
\end{table}

The second part of the session consisted of asking a series of open-ended follow-up questions to gather information about the participant's background with respect to software development and experience in examining commits and issues from an issue tracking system (\entity{ITS}).
We also asked participants to compare their experience in completing the question sets without and with the use of Intelligent History.
The follow-up interview questions are available at Appendix \ref{sec:Interview-Questions}.

We recorded all sessions for review and documented each session with a summary. 

\subsection{Participants}

We recruited $N$ participants, focusing on software developers with at least 1 year of experience in software development, which can include non-professional and professional development experience.
Participants were compensated with entry to a raffle to win 1 of 5 Amazon gift cards valued at $\$40$ \entity{CAD} each.
\FIXME{Comment on median and mean years of experience.}
\autoref{tab:Participants} shows the years of experience in software development for each participant and the order in which each participant received the question sets from \autoref{tab:Question-Sets}.

\begin{table}[h]
  \centering
  \begin{tabular}{@{}clcc@{}}
    \toprule
    \multicolumn{1}{l}{Pseudo-initial} & YoE (p/n-p) & \multicolumn{1}{l}{Set 1} & \multicolumn{1}{l}{Set 2} \\ \midrule
    A                                  &             & A                                  & B                               \\
    B                                  &             & B                                  & A                               \\
    C                                  &             & A                                  & B                               \\
    D                                  &             & B                                  & A                               \\
    E                                  &             & A                                  & B                               \\
    F                                  &             & B                                  & A                               \\
    G                                  &             & A                                  & B                               \\
    H                                  &             & B                                  & A                               \\
    I                                  &             & A                                  & B                               \\
    J                                  &             & B                                  & A                               \\ \bottomrule
  \end{tabular}
  \caption{
    Participants by pseudo-initial, total years of experience (YoE) with separation by professional (p) and non-professional (n-p), and the question set the participant received first and second.
    The participant answers the first set of questions \emph{without} using the features of Intelligent History plugin and the second set of questions \emph{with} the support of the plugin features.
  }
  \label{tab:Participants}
\end{table}

\subsection{Analysis}

\FIXME{Describe quantitative measures}. We instrumented Intelligent History to collect logs on \dots

\FIXME{Describe qualitative measures.} We conduct a follow-up interview to obtain qualitative data on \dots

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Results}
\label{sec:Results}

\subsection{Summary}

% Compare metrics for set A, separated by results without plugin and with plugin
% Compare metrics set B, separated by results without plugin and with plugin

\subsection{RQ1}

\subsection{RQ2}

\subsection{RQ3}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Threats to Validity}
\label{sec:Threads-to-Validity}

\FIXME{Hawthorne effect, sample size, tool usage for second set of questions -- we did this to mitigate bias or impression of conducting the study a certain way}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\endinput

Any text after an \endinput is ignored.
You could put scraps here or things in progress.